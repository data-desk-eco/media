<!doctype html>
<notebook theme="midnight">
  <title>Data Desk media mentions</title>
  <script id="header" type="text/markdown">
    # Media mentions

    Reports featuring Data Desk research and analysis.
  </script>
  <script id="main" type="module">
    const mentions = await FileAttachment("../data/mentions.json").json();

    display(html`<ul style="list-style: none; padding-left: 0;">
      ${mentions.map(m => {
        const date = new Date(m.published).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });
        return html`<li style="margin: 1rem 0;">
          <div><a href="${m.url}" target="_blank">${m.title}</a></div>
          <div style="color: #888; font-size: 0.9em;">${m.source}</div>
          <div style="color: #888; font-size: 0.9em;">${date}</div>
        </li>`;
      })}
    </ul>`);
  </script>
</notebook>
